{% extends 'partials/base.html' %}
{% load static %}
{% block title %}Subscription Plans | ainhub.com/txt2mp4{% endblock %} 
<meta name="csrf-token" content="{{ csrf_token }}">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

{% block content %}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ainhub - Best Software Solution</title>
<link rel="stylesheet" href="style.css">
<!-- <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Outfit:wght@100..900&display=swap" rel="stylesheet"> -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link
    href="https://fonts.googleapis.com/css2?family=Ancizar+Sans:ital,wght@0,100..1000;1,100..1000&family=Poetsen+One&display=swap"
    rel="stylesheet">

<style>
.banktransfer {
    display: flex;
    flex-direction: column; /* ensures vertical layout */
    margin: 0 20% 0 20%;
}

.url {
    font-family: Arial, Helvetica, sans-serif;
    border: 2px solid #252525;
    color: #252525;
    font-size: 15px;
    font-weight: normal;
    margin: 0 0 9px;
    padding: 10px;
    text-align: left;
    width: 90.5%;
    box-sizing: border-box;
}

.subbuttons {
    justify-content: left;
    width: 90.5%;
    padding: 10px;
    background-color: #252525;
    color: white;
    border: none;
    cursor: pointer;
}

label {
    display: block;
    font-weight: bold;
    margin-bottom: 5px;
margin-left: 40%;
    width: 90.5%;
        margin: 0 0 9px;
    padding: 10px; 
}


@media (max-width: 600px) {
    .url, .subbuttons {
        width: 100%;
    }
}
</style>


<body>


{% include 'partials/header.html' %}

    <main class="main_area">
        <div class="main_content">

                        {% if messages %}
        <ul class="messages">
          {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}

            {% include 'partials/slider.html' %}

            <div class="top_left_buttons">
                <button class="hide_on_mobile"> Start your free trial </button>
                <button> Play </button>
                <button> Share </button>
            </div>

            <div class="page_content">
                <h2>Bank Transfer Payment Instructions</h2>
                <!-- <p>Select a plan that fits your needs.</p> -->
                {% include 'partials/solutions.html' %}

                        
                     
                    <div id="featured" class="banktransfer">
                        <form id="downloadForm" method="post" enctype="multipart/form-data" >
                            {% csrf_token %}
                            <div id="error-message" class="error-box" style="display: none;"></div> 

                            <label for="url" style="display: block; font-weight: bold; margin-bottom: 5px;">Reciept Image:</label>
                            <input type="file" class="url" name="reciept" id="reciept" required accept="png/*" placeholder="Select Audio here">

                            <!-- <label for="url" style="display: block; font-weight: bold; margin-bottom: 5px;">Username:</label> -->
                            <input type="text" value="{{plan.name}}" required disabled class="url" name="name" id="name" placeholder="Paste your Username here">


                            <!-- <label for="url" style="display: block; font-weight: bold; margin-bottom: 5px;"> {% if user.is_authenticated %} Email {% else %} Login Email is Required  {% endif %}:</label> -->
                            <input type="email" class="url" disabled required value="{% if user.is_authenticated %} {{user.email}} {% endif %}" name="email" id="email" placeholder="Paste your Email here">


                            <!-- <label for="url" style="display: block; font-weight: bold; margin-bottom: 5px;">Price:</label> -->
                            <input type="number" value="{{plan.price}}" required class="url" name="email" disabled id="email" placeholder="Paste your Email here">

                            <button id="download_button" class="subbuttons" style="margin-top: 8px;"> Send </button> 
                    
 
                        </form>
                    </div>
                      

       


                <div class="text_container">
                    <h3>Subscription Plans</h3>

                      <p style="text-align:left;">
    To complete your subscription via <strong>bank transfer</strong>, simply make a payment to our provided bank account, then upload a clear image of your payment receipt along with your <strong>username</strong> and <strong>email address</strong> used during registration. Once submitted, we will verify your payment within <strong>24–48 hours</strong> and send a confirmation email. Your subscription will be activated upon successful verification. If you do not receive a confirmation within that time, please contact our support team at <a href="mailto:support@example.com">support@example.com</a>.
  </p>

   <h3>Complete Your Subscription via Bank Transfer:</h3>

    <h4>1. Make a Bank Transfer</h4>
    Send the payment to the bank account details provided on our Bank Details page. Make sure to note the amount and your transaction reference.

    <h4>2. Upload Your Payment Receipt</h4>
    Take a clear photo or screenshot of your payment receipt and upload it using the form provided.

    <h4>3. Provide Registration Info</h4>
    Enter your <strong>username</strong> and the <strong>email address</strong> used when you signed up. This helps us verify your account.

    <h4>4. Submit and Wait for Confirmation</h4>
    After submitting the form, our team will verify your payment within <strong>24–48 hours</strong>. You will receive a confirmation email once your subscription is activated.

    <h4>Important Notes</h4>
    - Ensure the receipt image is clear and legible.<br/>
    - Double-check your username and email before submitting.<br/>
    - Verification may take up to 48 hours on business days.

    <h4>Need Help?</h4>
    <p>If you have questions or haven't received confirmation after 48 hours, please reach out to us at <a href="mailto:support@example.com">support@example.com</a>.</p>
                   
                </div>



                




                {% include 'partials/blogs.html' %}





            </div>



        </div>

        <div class="ads_slider">
            <div class="ads_content">
                <h2>ads content 20%</h2>
                <p> add description comes here </p>
                <div class="ads_image">
                    <img src="{% static 'modern/images/adsone.webp' %}" alt="Ad Image">
                </div>
            </div>

        </div>



    </main>



 
 

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- <script>
    $(document).ready(function() {
        // Set up AJAX to include CSRF token
        $.ajaxSetup({
            headers: {
                'X-CSRFToken': $('input[name="csrfmiddlewaretoken"]').val()
            }
        });

        $('#fetch_video_info').click(function() {
            let videoUrl = $('#video-url').val().trim();
            if (!videoUrl) {
                alert('Please enter a valid video URL');
                return;
            }
            $(this).text('Fetching...');

            $.ajax({
                url: '/get-video-info/',
                type: 'GET',
                data: { 'video_url': videoUrl },
                success: function(response) {
                    if (response.error) {
                        $('#error-message').text(response.error);
                        $('#fetch_video_info').text('Get Video Info');
                    } else {
                        $('#video_info').show();
                        $('#video_size').show();
                        $('#video_size').removeClass('hide_on_load').css('visibility', 'visible');
                        $('#title').text(response.title);
                        $('#thumbnail').attr('src', response.thumbnail);
                        $('#size').text(response.size);
                        $('#format').text(response.format);
                        $('#video-format').prop('disabled', false);
                        $('#download_button').prop('disabled', false);
                        $('#fetch_video_info').text('Get Video Info');
                    }
                },
                error: function() {
                    $('#error-message').text('Failed to fetch video info. Try again.');
                    $('#fetch_video_info').text('Get Video Info');
                }
            });
        });

        $('#downloadForm').submit(function(event) {
        event.preventDefault();

        let videoUrl = $('#url').val().trim();
        let videoFormat = $('#video-format').val();
        $('#error-message').hide();
        $('#download-link').html('');
        $('#download_button').prop('disabled', true).text('Downloading...');
        $('#download-link').hide();
        $('#progressBar').show();
        $('#progress').css('width', '0%');

        let progress = 0;
        let interval = setInterval(() => {
            if (progress >= 100) clearInterval(interval);
            else {
                progress += 10;
                $('#progress').css('width', progress + '%');
            }
        }, 400);

        $.ajax({
            url: '/youdownload/',
            type: 'POST',
            data: {
                video_url: videoUrl,
                video_format: videoFormat,
                csrfmiddlewaretoken: $('input[name="csrfmiddlewaretoken"]').val()
            },
            success: function(response) {
                clearInterval(interval);
                $('#progress').css('width', '100%');
                if (response.success) {
                    console.log(response);
                    $('#download-link').html('<a href="' + response.download_url + '" download>Download Video</a>').show();

                                    // Send a request to delete the file after download
                    // $.ajax({
                    //     url: '/delete-file/',  // Create a route for file deletion
                    //     type: 'POST',
                    //     data: {
                    //         file_path: response.download_url,  // Send the path of the file to be deleted
                    //         csrfmiddlewaretoken: $('input[name="csrfmiddlewaretoken"]').val()
                    //     },
                    //     success: function(deleteResponse) {
                    //         console.log('File deleted successfully');
                    //     },
                    //     error: function(deleteResponse) {
                    //         console.log('Error deleting file');
                    //     }
                    // });

                } else {
                    $('#error-message').html(response.message).show();
                }
                $('#download_button').prop('disabled', false).text('Download Video');
            },
            error: function(response) {
                clearInterval(interval);
                $('#progressBar').hide();
                let errorMessage = response.responseJSON?.message || 'An error occurred.';
                $('#error-message').html(errorMessage).show();
                $('#download_button').prop('disabled', false).text('Download Video');
            }
        });
    });
    });
</script> -->



<script>
 document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("downloadForm");
    const audioInput = document.getElementById("audio");
    const resultDiv = document.getElementById("result");
    const transcribedText = document.getElementById("transcribedText");
    const progressBar = document.getElementById("progressBar");
    const progress = document.getElementById("progress");
    const errorBox = document.getElementById("error-message");

    form.addEventListener("submit", function (e) {
        e.preventDefault();

        const file = audioInput.files[0];

        if (!file) {
            errorBox.style.display = "block";
            errorBox.innerText = "Please select an audio file.";
            return;
        }

        // File size validation (20MB = 20 * 1024 * 1024 bytes)
        if (file.size > 20 * 1024 * 1024) {
            errorBox.style.display = "block";
            errorBox.innerText = "File too large. Max allowed size is 20MB.";
            return;
        }

        errorBox.style.display = "none";
        resultDiv.style.display = "none";
        progressBar.style.display = "block";
        progress.style.width = "30%"; // Just visual feedback (no real progress)

        const formData = new FormData();
        formData.append("audio", file);

        fetch("/transcribe_audio/", {
            method: "POST",
            body: formData
        })
        .then(res => res.json())
        .then(data => {
            progress.style.width = "100%";
            if (data.text) {
                transcribedText.value = data.text;
                resultDiv.style.display = "block";
            } else {
                errorBox.style.display = "block";
                errorBox.innerText = data.error || "Transcription failed.";
            }
        })
        .catch(error => {
            console.error("Error:", error);
            errorBox.style.display = "block";
            errorBox.innerText = "An error occurred during transcription.";
        })
        .finally(() => {
            progressBar.style.display = "none";
            progress.style.width = "0%";
        });
    });
});

</script>

</body>
{% endblock %}


</html>