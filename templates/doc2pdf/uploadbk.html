{% extends 'partials/base.html' %}
{% load static %}
{% block title %}Free Audio to Text Transcription | Convert MP3 & WAV to Text Online | ainhub.com/audio2txt{% endblock %}
{% block description %}Transcribe your audio files to text easily and for free. Supports MP3, WAV, AAC formats with fast and accurate speech recognition. Perfect for meetings, interviews, and lectures.{% endblock %}


{% block content %}

<style>
    
    .error-box {
    background-color: #ffe0e0;
    color: #b30000;
    border: 1px solid #b30000;
    padding: 12px;
    border-radius: 8px;
    margin-top: 15px;
    font-weight: bold;
    display: none;
    animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}


.url{
    font-family: 'Outfit' !important;
    border: 2px solid #252525;
    color: #252525;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 15px;
    font-weight: normal;
    margin: 0 0 9px;
    padding: 10px;
    text-align: left;
    width: 94.5%;
}


  .voice-grid {
                display: flex;
                flex-wrap: wrap;
                gap: 15px;
                justify-content: center;
            }
        
            .langbox {
                background: #ffffff;
                border: 1px solid #ddd;
                border-radius: 8px;
                padding: 12px 16px;
                font-size: 1rem;
                color: #333;
                text-align: center;
                min-width: 180px;
                transition: all 0.3s ease;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
            }
        
            .langbox:hover {
                background-color: #f0f8ff;
                border-color: #4a90e2;
                cursor: pointer;
                transform: translateY(-2px);
            }
        
            @media (max-width: 600px) {
                .langbox {
                    min-width: 94%;
                }
            }
</style>


<body>


    {% include 'partials/logo.html' %}
    <div id="body">


            {% if messages %}
        <ul class="messages">
          {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}

<h1>Text Extraction Service from Uploaded Documents</h1>


<div id="introtext">
    <p style="text-align:left;">
        Instantly extract clean, high-quality <strong>text content</strong> from your uploaded documents — quickly and for free.
        Ideal for <em>data analysis</em>, <em>research</em>, <em>summarization</em>, <em>archiving</em>, and more.

        Our text extraction tool supports multiple file formats including <code>.pdf</code>, <code>.docx</code>, and <code>.txt</code>, ensuring precise parsing of even complex layouts and content.

        The service is fast, secure, and handles documents from various sources. No software installation required. <a id="subbtn" href="{% url 'subscribe' %}" style="text-decoration: none;">Choose Subscription</a> for premium features like OCR support, bulk processing, and ad-free usage.
    </p>
</div>




   

 

<div id="featured">

    <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="form-group">
        <label for="{{ form.title.id_for_label }}">Title</label>
        {{ form.title }}
        {% if form.title.errors %}
        <div class="text-danger">
            {{ form.title.errors }}
        </div>
        {% endif %}
    </div>


    <div class="form-group">
        <label for="{{ form.file.id_for_label }}">File</label>
        {{ form.file }}
        {% if form.file.errors %}
        <div class="text-danger">
            {{ form.file.errors }}
        </div>
        {% endif %}
    </div>

 
    <button class="subbuttons" type="submit">Upload</button>
</form>
        
</div>

        <div style='border: 2px solid #ccc; width: 350px; padding: 10px; display: none;' id='s3loader'>
           
            <p style='font-weight: bold;'>Woah, that is quite some text... </p>
            <p>Please give us a moment to process your request...</p><img style='border: none;' width='200' data-src='{% static 'images/loader.gif' %}' />
        </div>
        <p>Download limit: 1,000 characters / Downloads :-)</p> 
        <p>easily convert youtube video here    <a href="{% url 'process_youdownload' %}">free youtube video converter</a> </p> 

        <br/>



        <div style="text-align: justify; width: 70%; padding: 30px; border: 2px solid #cecece; padding-top: 10px; margin-top: 5px;">
    <h3>Extract Text Easily from Your Documents:</h3>
    
    <h4>1. Upload Your Document</h4>
    Select a file from your device to upload. Supported formats include <strong>PDF</strong>, <strong>DOCX</strong>, and <strong>TXT</strong>.

    <h4>2. Choose the Extraction Language</h4>
    Select the document language to ensure accurate text extraction and formatting.

    <h4>3. Start Extraction</h4>
    Click the "Start Extraction" button. Our tool will process the document and extract all readable text.

    <h4>4. Review and Edit</h4>
    After extraction, review the extracted content. You can edit the text to fix formatting or remove unwanted characters.

    <h4>5. Download the Text</h4>
    Once you’re satisfied, click the "Download" button to save the clean text to your device.

    <h4>Important Tips</h4>
    - Make sure the document is not encrypted or password-protected.<br/>
    - Poorly scanned images may reduce text recognition accuracy.<br/>
    - Complex layouts might affect formatting.

    <h4>Note on Usage</h4>
    This tool is designed for personal and professional purposes, such as extracting notes, archiving content, or analyzing document data. Ensure you have permission to process any uploaded files.

    <h4>Need Help?</h4>
    <p>Read the full usage guide and FAQ at 
    <a rel="nofollow" target="_blank" href="https://yourwebsite.com/text-extraction-guide">Text Extraction Help Center</a>.</p>

</div>


        
        
      <br/>
            {% include 'partials/navigator.html' %}        
        <br/>

 

        
        

       
         



    
        

        <br/>
        <!-- <p>Current Limit: ~415 words or 3,500 characters / day | Powered by MS</p> -->
        <p>Get in touch? Mail us: <br/>    <strong style="font-size: 16px;">info@ainhub.com</strong>  </p>
        <p>Need to convert more text to speech? <a href="subscribe/">Become a Member here</a> for  premium access.</p>
    </div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- <script>
    $(document).ready(function() {
        // Set up AJAX to include CSRF token
        $.ajaxSetup({
            headers: {
                'X-CSRFToken': $('input[name="csrfmiddlewaretoken"]').val()
            }
        });

        $('#fetch_video_info').click(function() {
            let videoUrl = $('#video-url').val().trim();
            if (!videoUrl) {
                alert('Please enter a valid video URL');
                return;
            }
            $(this).text('Fetching...');

            $.ajax({
                url: '/get-video-info/',
                type: 'GET',
                data: { 'video_url': videoUrl },
                success: function(response) {
                    if (response.error) {
                        $('#error-message').text(response.error);
                        $('#fetch_video_info').text('Get Video Info');
                    } else {
                        $('#video_info').show();
                        $('#video_size').show();
                        $('#video_size').removeClass('hide_on_load').css('visibility', 'visible');
                        $('#title').text(response.title);
                        $('#thumbnail').attr('src', response.thumbnail);
                        $('#size').text(response.size);
                        $('#format').text(response.format);
                        $('#video-format').prop('disabled', false);
                        $('#download_button').prop('disabled', false);
                        $('#fetch_video_info').text('Get Video Info');
                    }
                },
                error: function() {
                    $('#error-message').text('Failed to fetch video info. Try again.');
                    $('#fetch_video_info').text('Get Video Info');
                }
            });
        });

        $('#downloadForm').submit(function(event) {
        event.preventDefault();

        let videoUrl = $('#url').val().trim();
        let videoFormat = $('#video-format').val();
        $('#error-message').hide();
        $('#download-link').html('');
        $('#download_button').prop('disabled', true).text('Downloading...');
        $('#download-link').hide();
        $('#progressBar').show();
        $('#progress').css('width', '0%');

        let progress = 0;
        let interval = setInterval(() => {
            if (progress >= 100) clearInterval(interval);
            else {
                progress += 10;
                $('#progress').css('width', progress + '%');
            }
        }, 400);

        $.ajax({
            url: '/youdownload/',
            type: 'POST',
            data: {
                video_url: videoUrl,
                video_format: videoFormat,
                csrfmiddlewaretoken: $('input[name="csrfmiddlewaretoken"]').val()
            },
            success: function(response) {
                clearInterval(interval);
                $('#progress').css('width', '100%');
                if (response.success) {
                    console.log(response);
                    $('#download-link').html('<a href="' + response.download_url + '" download>Download Video</a>').show();

                                    // Send a request to delete the file after download
                    // $.ajax({
                    //     url: '/delete-file/',  // Create a route for file deletion
                    //     type: 'POST',
                    //     data: {
                    //         file_path: response.download_url,  // Send the path of the file to be deleted
                    //         csrfmiddlewaretoken: $('input[name="csrfmiddlewaretoken"]').val()
                    //     },
                    //     success: function(deleteResponse) {
                    //         console.log('File deleted successfully');
                    //     },
                    //     error: function(deleteResponse) {
                    //         console.log('Error deleting file');
                    //     }
                    // });

                } else {
                    $('#error-message').html(response.message).show();
                }
                $('#download_button').prop('disabled', false).text('Download Video');
            },
            error: function(response) {
                clearInterval(interval);
                $('#progressBar').hide();
                let errorMessage = response.responseJSON?.message || 'An error occurred.';
                $('#error-message').html(errorMessage).show();
                $('#download_button').prop('disabled', false).text('Download Video');
            }
        });
    });
    });
</script> -->



<script>
 document.addEventListener("DOMContentLoaded", function () {
    const form = document.getElementById("downloadForm");
    const audioInput = document.getElementById("audio");
    const resultDiv = document.getElementById("result");
    const transcribedText = document.getElementById("transcribedText");
    const progressBar = document.getElementById("progressBar");
    const progress = document.getElementById("progress");
    const errorBox = document.getElementById("error-message");

    form.addEventListener("submit", function (e) {
        e.preventDefault();

        const file = audioInput.files[0];

        if (!file) {
            errorBox.style.display = "block";
            errorBox.innerText = "Please select an audio file.";
            return;
        }

        // File size validation (20MB = 20 * 1024 * 1024 bytes)
        if (file.size > 20 * 1024 * 1024) {
            errorBox.style.display = "block";
            errorBox.innerText = "File too large. Max allowed size is 20MB.";
            return;
        }

        errorBox.style.display = "none";
        resultDiv.style.display = "none";
        progressBar.style.display = "block";
        progress.style.width = "30%"; // Just visual feedback (no real progress)

        const formData = new FormData();
        formData.append("audio", file);

        fetch("/transcribe_audio/", {
            method: "POST",
            body: formData
        })
        .then(res => res.json())
        .then(data => {
            progress.style.width = "100%";
            if (data.text) {
                transcribedText.value = data.text;
                resultDiv.style.display = "block";
            } else {
                errorBox.style.display = "block";
                errorBox.innerText = data.error || "Transcription failed.";
            }
        })
        .catch(error => {
            console.error("Error:", error);
            errorBox.style.display = "block";
            errorBox.innerText = "An error occurred during transcription.";
        })
        .finally(() => {
            progressBar.style.display = "none";
            progress.style.width = "0%";
        });
    });
});

</script>

</body>
{% endblock %}


</html>